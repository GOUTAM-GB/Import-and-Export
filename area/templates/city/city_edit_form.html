<div class="modal-header" style="background-color:#0c768a;">
  <h6 class="modal-title text-white">Edit City</h6>
  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
</div>

<form method="POST" action="{% url 'edit_city' city.id %}" id="editcityForm-{{ city.id }}">
  {% csrf_token %}
  <div class="modal-body py-3 px-4">

    <!-- Country -->
    <div class="mb-3 text-start">
      <label for="editCityCountry-{{ city.id }}" class="form-label fw-semibold">Country</label>
      <select class="form-select" id="editCityCountry-{{ city.id }}" name="country"
        onchange="loadStates(this.value, '#editCityState-{{ city.id }}', '{{ city.state.id }}')">
      </select>
      <small id="countryError-{{ city.id }}" class="text-danger d-block mt-1"></small>
    </div>

    <!-- State -->
    <div class="mb-3 text-start">
      <label for="editCityState-{{ city.id }}" class="form-label fw-semibold">State</label>
      <select class="form-select" id="editCityState-{{ city.id }}" name="state"></select>
      <small id="stateError-{{ city.id }}" class="text-danger d-block mt-1"></small>
    </div>

    <!-- City -->
    <div class="mb-3 text-start">
      <label for="edit_name-{{ city.id }}" class="form-label fw-semibold">City Name</label>
      <input type="text" class="form-control" name="name" value="{{ city.name }}" id="edit_name-{{ city.id }}" placeholder="Ex: Hyderabad">
      <small id="nameError-{{ city.id }}" class="text-danger d-block mt-1"></small>
    </div>

  </div>

  <div class="modal-footer py-2">
    <button type="button" class="btn btn-sm btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
    <button type="submit" class="btn btn-sm text-white" style="background-color:#0c768a;">Save</button>
  </div>
</form>

<script>
  loadCountries(
    "#editCityCountry-{{ city.id }}", 
    "{{ city.country.id }}", 
    "#editCityState-{{ city.id }}", 
    "{{ city.state.id }}"
  );
</script>
